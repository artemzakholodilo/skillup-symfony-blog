{% extends 'holidays.html.twig' %}

{% block left_menu %}
    <ul>
        {% for category in categories %}
            <li><a href="{{ path('category_posts', {id: category.id}) }}">{{ category.name }}</a></li>
        {% endfor %}
    </ul>
{% endblock %}
{% block body %}
    <div class="row">
    {% set i =0 %}
    {# todo check if no posts #}
    {% for post in pagination %}
        {% if i % 4 == 0 and i != pagination.count %}
            </div>
            <div class="row">
        {% endif %}
        <div class="col-3">
            <p>
            <div>
                <a href="{{ path('view', {slug: post.slug}) }}"><h3>{{ post.title }}</h3></a>
            </div>
            <div>{{ post.body | slice(0, 30) | upper }}</div>
            {% if post.tags is defined %}
                <div class="tagsinput">
                    {% for tag in post.tags %}
                        <span><a href="{{ path('tag_posts', {id: tag.id}) }}">{{ tag.name }}</a></span>
                    {% endfor %}
                </div>
            {% endif %}
            </p>
        </div>
        {% set i = i + 1 %}
        {% if i == pagination.count %}
        </div>
        {% endif %}
    {% endfor %}
    <div class="navigation">
        {{ knp_pagination_render(pagination) }}
    </div>
{% endblock %}